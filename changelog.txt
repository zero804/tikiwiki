Tiki Changelog
------------------

Changelog is now generated by a script (doc/devtools/release.php)

The following tags can be used to distinguish changes:
* [NEW] for additions of new features
* [ENH] is an enhancement; not really new but makes things work better (e.g. look and feel, performance...)
** [DOC] for improvements in the tips or contextual documentation provided to the user/admin

* [FIX] for bug fixes of any sort
** [SEC] for security fix operations. If you feel you have reason to put this tag, please first contact security at tiki.org.
* [UPD] for updates of third party/vendor libraries

* [UX] for user experience improvements; makes Tiki easier to use and understand (more details in https://dev.tiki.org/UX )

* [DB] for changes in the database

* [MOD] is a change which may be disruptive. For example, changing the default value of an option.
** [REM] for feature removals

* [REF] for refactoring; changes the structure of the code (to make it cleaner or clearer), without changing its actual behaviour.
** [KIL] for removals of unused or obsolete files. This tag was used in the sense of [REM] prior to Tiki 6.

* [REL] for the release process
* [MRG] for branch merges, generally performed by the merge scripts
* [TRA] for translation

When possible, it's also nice to indicate what feature is concerned by the change.
The tags info is also online: https://dev.tiki.org/Commit+Tags

Before 2.0, there was only [MOD] for both [ENH] and [MOD]:

----------------------------------------------------------------------
Version 18.6
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
r76549 | drsassfras | 2020-06-09 17:26:50 +0100 (Tue, 09 Jun 2020) | 3 lines
[FIX] filer vars in tracker history
(cherry picked from commit 13ad952f47753b8a71b58f84f3c4b202f2343e8b)
----------------------------------------------
r76548 | drsassafras | 2020-06-09 17:26:47 +0100 (Tue, 09 Jun 2020) | 3 lines
[FIX] Filter faq vars
(cherry picked from commit 5ffc439bb39a3714bd4e6451d4acc988f5a37fff)
----------------------------------------------
r76382 | xorti | 2020-05-20 17:23:16 +0100 (Wed, 20 May 2020) | 3 lines
[FIX] Fix div math formula to set 0 on empty string values
(cherry picked from cabbddaf1d353e756ba7c67859ab6c2da1830630)
----------------------------------------------
r76374 | jonnybradley | 2020-05-19 16:58:06 +0100 (Tue, 19 May 2020) | 1 line
[FIX] php7: Fix tracker legacy export - arrays initialised as strings (thanks Geoff)
----------------------------------------------
r76370 | jonnybradley | 2020-05-19 13:12:03 +0100 (Tue, 19 May 2020) | 1 line
[FIX] admin: Fix js error on admin/search and other control panels - this line (10) somehow mysteriously vanished somewhere around Feb 2018, possibly a merge mixup somewhere around r65496. So not a backport but this re-syncs tiki-admin.js with 19.x and fixes the bug (and show/hide child prefs still seems to work)
----------------------------------------------
r76330 | xorti | 2020-05-12 19:51:12 +0100 (Tue, 12 May 2020) | 6 lines
[FIX] Prevent tasks to be saved without title
- Fix issue that allowed to save tasks without title
- Fix errors saving tasks without title on a strict database
(cherry picked from commit 7b43a57d9b8542a9da535637284b6917ec591e20)
----------------------------------------------
r76329 | xorti | 2020-05-12 19:51:12 +0100 (Tue, 12 May 2020) | 3 lines
[FIX] Fix issues in schedulers and user notes to support database strict mode on
(cherry picked from commit f11887f07e8dd219f7eceac04be9c6af9a744164)
----------------------------------------------
r76291 | jonnybradley | 2020-05-01 17:44:24 +0100 (Fri, 01 May 2020) | 1 line
[FIX] search: Add page_id to the index for wiki pages (sometimes easier to use than the title/object_id)
----------------------------------------------
r76275 | jonnybradley | 2020-04-29 13:52:02 +0100 (Wed, 29 Apr 2020) | 1 line
[FIX] menus: Prevent clicks on menu items with child options on the login module menu from closing the dropdown containing it
----------------------------------------------
r76270 | jonnybradley | 2020-04-28 15:41:07 +0100 (Tue, 28 Apr 2020) | 1 line
[FIX] search: Add facet data to the serialised output from tiki-searchindex.php if enabled
----------------------------------------------
r76256 | jonnybradley | 2020-04-27 12:13:15 +0100 (Mon, 27 Apr 2020) | 3 lines
[ENH] listexecute: Allow TrackerItemModify to update tracker items ignoring mandatory and validation errors
(cherry picked from commit 5b0bc0389ce0a1fbd156f63555238ad13cc2f6b9 - conflicts fixed manually)
----------------------------------------------
r76255 | kroky6 | 2020-04-27 11:41:09 +0100 (Mon, 27 Apr 2020) | 3 lines
[FIX] variable pass by reference issue with smarty internal template change
(cherry picked from commit 8ca9f921f0679f4fc7e3dd3fb5a3121a4f0ee6fc)
----------------------------------------------
r76254 | kroky6 | 2020-04-27 11:40:57 +0100 (Mon, 27 Apr 2020) | 3 lines
[FIX] smarty internal templates used for smarty function outputs did not have the basic variables assigned as prefs which caused issues using these variables in templates (e.g. ObjectSelector of ItemLink filter)
(cherry picked from commit 0e3d366571c1ce90e193a642403fd8de13eda559)
----------------------------------------------
r76253 | jonnybradley | 2020-04-27 11:28:10 +0100 (Mon, 27 Apr 2020) | 1 line
[FIX] smarty: Smarty functions now need a template, not Smarty_Tiki
----------------------------------------------
r76251 | jonnybradley | 2020-04-26 16:37:21 +0100 (Sun, 26 Apr 2020) | 2 lines
[FIX] trackers: Use the field handler to get the value for UserPreference fields as they are not stored in the database.
The tracker values and the prefs were getting wiped out whenever an item was being related to another and the refresh option was enabled.
----------------------------------------------
r76231 | kroky6 | 2020-04-22 13:34:02 +0100 (Wed, 22 Apr 2020) | 1 line
[br/r76070] [FIX] tracker item history observe field permissions - if you are not allowed to see a field, why can you see item history of changes for that field
----------------------------------------------
r76219 | jonnybradley | 2020-04-21 11:26:56 +0100 (Tue, 21 Apr 2020) | 1 line
[FIX] smarty: Recent versions of smarty regard missing spaces in {if} statements as a syntax error (found using the release script smarty check)
----------------------------------------------
r76204 | xorti | 2020-04-17 16:01:48 +0100 (Fri, 17 Apr 2020) | 3 lines
[UPD] Update smarty version to 3.1.34
- Includes bp/r66866
----------------------------------------------
r76200 | amette | 2020-04-16 14:05:12 +0100 (Thu, 16 Apr 2020) | 1 line
[bp/76196][FIX] Send newsletter even if recipient address has leading or trailing whitespace
----------------------------------------------
r76199 | amette | 2020-04-16 14:04:42 +0100 (Thu, 16 Apr 2020) | 1 line
[rb/r76198] Roll back unrelated things
----------------------------------------------
r76182 | jonnybradley | 2020-04-14 14:15:48 +0100 (Tue, 14 Apr 2020) | 2 lines
[FIX] modules: Speed up module category visibility checks by only loading the whole category tree if needed by modules with category (or nocategory) names specified rather than id's
Reduces page load times from over 20s to under 2s on one large site with over 1000 categories
----------------------------------------------
r76178 | luciash | 2020-04-14 12:34:45 +0100 (Tue, 14 Apr 2020) | 3 lines
[FIX] devtools: make the tikilite.sh script work with the latest Tiki version
(cherry picked from commit ad99180b791d139168101766c5dafe4318a4de1b)
----------------------------------------------
r76164 | jonnybradley | 2020-04-09 18:42:17 +0100 (Thu, 09 Apr 2020) | 1 line
[FIX] auth: Allow "HTTP Session/Login" content authentication to use a Bearer authorisation token to be returned from an oauth2 login post
----------------------------------------------
r76142 | xorti | 2020-04-08 16:37:20 +0100 (Wed, 08 Apr 2020) | 3 lines
[ENH] Improve gitlab mr script to allow create in target project id
- Also update_vendor_bundled_dependencies pipeline was updated
----------------------------------------------
r76129 | xorti | 2020-04-07 17:50:48 +0100 (Tue, 07 Apr 2020) | 1 line
[ENH] Allow composer to update vendor_bundled dependencies and if changed, check for external package sources
----------------------------------------------
r76122 | jonnybradley | 2020-04-07 13:21:06 +0100 (Tue, 07 Apr 2020) | 1 line
[FIX] elfinder: Fix notices where some permissions are missing, e.g. for non-admin users in user file galleries
----------------------------------------------
r76121 | jonnybradley | 2020-04-07 13:21:03 +0100 (Tue, 07 Apr 2020) | 1 line
[FIX] elfinder: Add a pref to disable debug mode as now php warnings are displayed over the gallery listings when enabled
----------------------------------------------
r76120 | jonnybradley | 2020-04-07 13:18:01 +0100 (Tue, 07 Apr 2020) | 3 lines
[ENH] elfinder: Add a new pref to allow elFinder to be enabled but not used on textarea toolbar buttons (sort of a [FIX] really)
(cherry picked from commit 1dc2ff0da229ac7d8afaed986e2291f633e9135b)
----------------------------------------------
r76085 | xorti | 2020-04-04 23:33:19 +0100 (Sat, 04 Apr 2020) | 1 line
[ENH] Update update_vendor_bundled_dependencies pipeline image to run with PHP 5.6
----------------------------------------------
r76018 | jonnybradley | 2020-03-26 10:45:15 +0000 (Thu, 26 Mar 2020) | 1 line
[FIX] trackers: Missing .php on wiki field edit page button
----------------------------------------------
Version 18.5
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
r75924 | jonnybradley | 2020-03-16 11:46:53 +0000 (Mon, 16 Mar 2020) | 2 lines
[FIX] elfinder: Some cosmetic fixes for the search box and hover state
(manually "cherry picked" from dac01c24 but redone in less)
----------------------------------------------
r75923 | jonnybradley | 2020-03-16 10:48:12 +0000 (Mon, 16 Mar 2020) | 3 lines
[FIX] elfinder: Seems root volumes now require a name or "alias" to function now
(cherry picked from commit 38a394672c0cc52365a18cb6aa94eeefc8a8189b)
----------------------------------------------
r75922 | jonnybradley | 2020-03-16 10:48:08 +0000 (Mon, 16 Mar 2020) | 3 lines
[FIX] elfinder: Update overriden (but unused) resize function signature
(cherry picked from commit f82a9cf6ac72dc3720bb868758d0f366d95e347e)
----------------------------------------------
r75921 | jonnybradley | 2020-03-16 10:48:02 +0000 (Mon, 16 Mar 2020) | 3 lines
[FIX] elFinder: Now elFinderSession::start tries to change the session settings but ours is already running so close it before we launch elFinder
(cherry picked from commit 38832bf8d8613b40d893c7180d65fc18f28da01a)
----------------------------------------------
r75920 | jonnybradley | 2020-03-16 10:47:57 +0000 (Mon, 16 Mar 2020) | 3 lines
[FIX] elfinder: Fix some notices which seem to get displayed now (there is one session warning remaining, hard to fix...)
(cherry picked from commit ae72a85a57868694daa212cfb80dfcdb3a2827ba)
----------------------------------------------
r75919 | jonnybradley | 2020-03-16 10:47:29 +0000 (Mon, 16 Mar 2020) | 18 lines
[UPD] automatic "updates" using php 5.6 (note some packages got downgraded as presumably the last composer update was run with a newer version of php - probably TikiBot in b3ce98e6)
  - Updating ckeditor/ckeditor (4.13.1 => 4.14.0)
  - Updating mottie/tablesorter (v2.31.2 => v2.31.3)
  - Updating plotly/plotly.js (v1.52.2 => v1.52.3)
  - Updating studio-42/elfinder (2.1.53 => 2.1.54)
  - Downgrading zendframework/zend-validator (2.13.0 => 2.12.2)
  - Downgrading symfony/finder (v4.4.5 => v3.4.38)
  - Downgrading symfony/debug (v4.4.5 => v3.4.38)
  - Downgrading myclabs/deep-copy (1.9.5 => 1.7.0)
  - Downgrading phpdocumentor/reflection-common (2.0.0 => 1.0.1)
  - Downgrading phpdocumentor/type-resolver (1.0.1 => 0.4.0)
  - Downgrading phpdocumentor/reflection-docblock (4.3.4 => 3.3.2)
  - Downgrading doctrine/instantiator (1.3.0 => 1.0.5)
  - Updating phpspec/prophecy (v1.10.2 => v1.10.3)
  - Downgrading phpunit/php-token-stream (2.0.2 => 1.4.12)
  - Downgrading symfony/filesystem (v4.4.5 => v3.4.38)
  - Downgrading symfony/css-selector (v4.4.5 => v3.4.38)
  - Downgrading zendframework/zend-code (3.4.1 => 3.1.0)
----------------------------------------------
r75900 | jonnybradley | 2020-03-12 12:32:01 +0000 (Thu, 12 Mar 2020) | 1 line
[FIX] trackers: Get the field data from the handler if other strategies fail - for instance in the tiki-object-infobox service for category fields
----------------------------------------------
r75864 | jonnybradley | 2020-03-10 19:28:48 +0000 (Tue, 10 Mar 2020) | 1 line
[FIX] trackers: Fix Wiki field history button (and add missing quotes)
----------------------------------------------
r75863 | jonnybradley | 2020-03-10 19:28:46 +0000 (Tue, 10 Mar 2020) | 3 lines
[FIX] trackers: Make the action buttons link to view a linked wiki page not redirect to the item, add button to edit, improve the appearance and make them all open in a new tab
(cherry picked from commit ab536c7947288fcb12ea5595a7d91c941f4e2527)
----------------------------------------------
r75849 | robertokir | 2020-03-10 09:54:36 +0000 (Tue, 10 Mar 2020) | 2 lines
[bp/r75282][DOC] Tell a Friend - Now Deprecated
Actually in 18.x just added a warning message in favor of feature_share
----------------------------------------------
r75848 | drsassafras | 2020-03-10 09:40:19 +0000 (Tue, 10 Mar 2020) | 3 lines
[bp/r75846][REF] Tell a friend - Use $inputConfiguration to keep vars well filtered
(cherry picked from commit 7095eb004858474bf46b05c269168d368e2349e5)
----------------------------------------------
r75847 | drsassafras | 2020-03-10 09:40:00 +0000 (Tue, 10 Mar 2020) | 3 lines
[bp/r75845][REF] Tell A Friend - Only allow POST where GET will never occur
(cherry picked from commit 5a89788ee05c1eb9d5aa6ab9d48fa3ff36fc1a57)
----------------------------------------------
r75790 | montefuscolo | 2020-03-06 20:38:31 +0000 (Fri, 06 Mar 2020) | 3 lines
[FIX] Avoid the error  fastcgi_finish_request() expects exactly 0 parameters, 3 given
(cherry picked from commit b32c7402223417948830be7cdcb2529679208c1e)
----------------------------------------------
r75781 | montefuscolo | 2020-03-05 21:30:46 +0000 (Thu, 05 Mar 2020) | 5 lines
Merge branch '18.x_vendor_bundled_update_20200301' into '18.x'
[UPD] Update 18.x vendor_bundled dependencies (20200301)
See merge request tikiwiki/tiki!277
----------------------------------------------
r75780 | tikibot | 2020-03-05 21:20:17 +0000 (Thu, 05 Mar 2020) | 1 line
[UPD] Update 18.x vendor_bundled dependencies
----------------------------------------------
r75779 | montefuscolo | 2020-03-05 21:19:09 +0000 (Thu, 05 Mar 2020) | 1 line
[FIX] Trying to make 18.x CI work again
----------------------------------------------
r75753 | Jyhem | 2020-03-04 18:05:57 +0000 (Wed, 04 Mar 2020) | 3 lines
[bp/r75750][FIX] SCRIPT_NAME is cleaner and has less side effects than PHP_SELF
(cherry picked from commit 4ca304c9b66f5566b5c913a814ec1d05195a4171)
----------------------------------------------
r75748 | jonnybradley | 2020-03-04 16:16:06 +0000 (Wed, 04 Mar 2020) | 3 lines
[bp/r75747][FIX] contact: Escape subject etc in contact form
(cherry picked from commit 694102ffdff1f94fbdf4c7f17e5a53079e8bc3c1)
----------------------------------------------
r75594 | jonnybradley | 2020-02-18 13:12:15 +0000 (Tue, 18 Feb 2020) | 3 lines
[FIX] trackers: Don't create "orphan" relations for Files fields on items that haven't been saved yet (for cartograf)
(cherry picked from commit 59aa4c806b4ddddf6ec55f8cec58020689253c52)
----------------------------------------------
r75593 | jonnybradley | 2020-02-18 13:12:15 +0000 (Tue, 18 Feb 2020) | 1 line
[FIX] trackers: Fix "top level" of clone item regarding executing handleClone handlers. Was working for child items but not for the parents (for cartograf)
----------------------------------------------
r75592 | jonnybradley | 2020-02-18 13:12:15 +0000 (Tue, 18 Feb 2020) | 3 lines
[FIX] appframe: No need for "anchors" to be in front of tooltips etc (for cartograf)
(cherry picked from commit e52c0aecfde4de7dcbd23b9512f67bb811fd7261)
----------------------------------------------
r75573 | xorti | 2020-02-14 19:36:09 +0000 (Fri, 14 Feb 2020) | 4 lines
[bp/r71375][ENH] Remove previous index mismatch errors from feedback after index rebuild
- Includes bp/r71436
----------------------------------------------
r75549 | xorti | 2020-02-11 01:34:42 +0000 (Tue, 11 Feb 2020) | 1 line
[bp/r70156][FIX] Fix command escaping to execute casperjs scripts in wikiplugin_casperjs
----------------------------------------------
r75487 | xorti | 2020-02-04 18:56:34 +0000 (Tue, 04 Feb 2020) | 1 line
[bp/r71654][ENH] Add phplint to GitLab CI pipeline
----------------------------------------------
r75475 | Jyhem | 2020-02-03 15:39:48 +0000 (Mon, 03 Feb 2020) | 3 lines
[FIX] Don't initialize an array with an empty string
(cherry picked from commit b498c884af7b8bea9fa1d66123323b18d65fc9b9)
----------------------------------------------
r75357 | rjsmelo | 2020-01-27 22:25:05 +0000 (Mon, 27 Jan 2020) | 5 lines
[bp/r71440][ENH] Prevent long tracker field permName
- Prenvents long permName so all engines can index without issues
- If long pernName are found while indexing an error is displayed to user
----------------------------------------------
r75314 | jonnybradley | 2020-01-23 11:17:21 +0000 (Thu, 23 Jan 2020) | 1 line
[FIX] filegals: Show the parent gallery when searching by file identifier, hopefully without upsetting anything else (this all so needs refactoring/rewriting)
----------------------------------------------
r75306 | xorti | 2020-01-21 23:40:52 +0000 (Tue, 21 Jan 2020) | 2 lines
[bp/r70743][bp/r73846][ENH] Add scripts and gitlab scheduled pipeline to update vendor_bundled dependencies
----------------------------------------------
r75209 | lindonb | 2019-12-24 04:00:47 +0000 (Tue, 24 Dec 2019) | 1 line
[bp/r75207][FIX] page history: make sure history_pagesize and history_offset parameters are numeric and that show_all_versions is y or n
----------------------------------------------
r75201 | lindonb | 2019-12-23 02:14:32 +0000 (Mon, 23 Dec 2019) | 1 line
[bp/r75199][FIX] Escape html special characters in the msg parameter.
----------------------------------------------
r75191 | xorti | 2019-12-16 17:24:51 +0000 (Mon, 16 Dec 2019) | 1 line
[bp/r71311][FIX] Fix issue with SEFURL and Tokens when sharing pages and temporary users
----------------------------------------------
r75171 | jonnybradley | 2019-12-11 14:33:46 +0000 (Wed, 11 Dec 2019) | 1 line
[FIX] updates: Process objects in batches in 20171123_create_object_links to avoid fatal out of memory WSoD on large sites (even 900 articles breaks this) and reduce the batch size to 100 in 20171121_create_plugin_include_relations for similar reasons
----------------------------------------------
r75156 | jonnybradley | 2019-12-10 15:24:57 +0000 (Tue, 10 Dec 2019) | 2 lines
[FIX] trackers: Remove class confirm-action from the update_item form as when used in a jquery-ui dialog (and probably anywhere else) the newer confirm code loses the response and automatically reloads the page. Don't see why saving a tracker item would need and extra confirmation step anyway, so i think it was always faulty code (r56306).
Not like this at all in 20.x so not a backport [thanks cartograf]
----------------------------------------------
r75147 | jonnybradley | 2019-12-09 11:36:02 +0000 (Mon, 09 Dec 2019) | 2 lines
[FIX] trackers: Remove duplicated div.form-group opening tag (without a closing tag), Possibly dating back to a merge mix-up in d3d339ff
Although i think this DANGER "warning" notice shouldn't be there at all if using a custom template, should it?
----------------------------------------------
r73854 | xorti | 2019-12-02 15:53:11 +0000 (Mon, 02 Dec 2019) | 1 line
[FIX] Prevent unit tests to fail due to deprecation errors on PHP7.2+ 
----------------------------------------------
r73853 | xorti | 2019-12-02 15:36:11 +0000 (Mon, 02 Dec 2019) | 4 lines
[bp/r71475][ENH] Improvements in sessions when using mysql/memcached as storage locations
- Also includes bp/r69802 - [FIX] Database handler for php session was not working on PHP 7.2
----------------------------------------------
r73847 | xorti | 2019-12-01 01:34:01 +0000 (Sun, 01 Dec 2019) | 5 lines
[bp/r69843][FIX] Update Memcached integration to use the "memcached" extension, instead "memcache", because "memcache" seems to be abandoned since 2013
https://pecl.php.net/package/memcache
https://pecl.php.net/package/memcached
----------------------------------------------
r71634 | pom2ter | 2019-11-27 03:44:50 +0000 (Wed, 27 Nov 2019) | 1 line
[bp/r71632][FIX] switching language in installer did nothing because of a missing dependancy
----------------------------------------------
r71610 | robertokir | 2019-11-25 13:42:31 +0000 (Mon, 25 Nov 2019) | 5 lines
[BP/MR208] fix custom search dropdown option label 0 issue
backport of MR208 that fixes a dropdown option label issue for customsearch
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/209)
----------------------------------------------
r71609 | guill.bout | 2019-11-25 13:32:15 +0000 (Mon, 25 Nov 2019) | 1 line
[BP/MR207] fix custom search dropdown option label 0 issue
----------------------------------------------
r71579 | xorti | 2019-11-22 01:52:17 +0000 (Fri, 22 Nov 2019) | 7 lines
[bp/r70935][ENH] Add PHP7.3 support to gitlab-ci and fix unit tests in PHP7.3
- Added missing public methods visibility
- Added composer build phase in .gitlab-ci.yml
- Increase the timout while running check_schema_upgrade.php

----------------------------------------------
r71567 | jonnybradley | 2019-11-21 18:06:21 +0000 (Thu, 21 Nov 2019) | 3 lines
[bp/r71565][ENH] webservices: Add Authorization Header method to Content Authentication (managed on tiki-admin_dsn.php) to allow web services to more providers, for example Yelp
Actually cherry picked from 84cbe60b193c811cf3e1673d5391aeeb7ea77d1a
----------------------------------------------
r71550 | montefuscolo | 2019-11-20 22:21:28 +0000 (Wed, 20 Nov 2019) | 1 line
[FIX] Regex for url scheme when detecting home page
----------------------------------------------
r71545 | montefuscolo | 2019-11-20 16:47:10 +0000 (Wed, 20 Nov 2019) | 1 line
[FIX] Group home was not being respected after login
----------------------------------------------
r71539 | jonnybradley | 2019-11-19 16:07:08 +0000 (Tue, 19 Nov 2019) | 1 line
[FIX] trackers: Translate field names in info boxes and gallery names in the icon picker, also clean up the sub-galleries list and restore the default green jigsaw icon for new items (could be something better?) - thanks Cartograf
----------------------------------------------
r71486 | jonnybradley | 2019-11-13 17:03:37 +0000 (Wed, 13 Nov 2019) | 3 lines
[FIX] plugintracker: Don't send the same email to the same address more than once (and fix a notice on emailformat param)
(cherry picked from commit 9e204eab14b93b3f46d38bfe4b0db1e4140642a9)
----------------------------------------------
r71454 | nkoth | 2019-11-09 05:19:50 +0000 (Sat, 09 Nov 2019) | 2 lines
[bp/r71452] login_allow_email pref was not being obeyed (was always possible)
----------------------------------------------
r71451 | nkoth | 2019-11-09 04:40:21 +0000 (Sat, 09 Nov 2019) | 2 lines
[bp/r71449][FIX] Users with @ in their user name cannot log in to Intertiki master
----------------------------------------------
r71426 | nkoth | 2019-11-06 21:27:47 +0000 (Wed, 06 Nov 2019) | 2 lines
[bp/r71424][FIX] Prevent error when AND or OR blank value. Also, prevent stopword failure with AND on uppercase search terms.
----------------------------------------------
r71373 | chibaguy | 2019-10-31 15:08:39 +0000 (Thu, 31 Oct 2019) | 1 line
[UI][FIX] Bad color contrast in some popups. Thanks to Mike for reporting.
----------------------------------------------
r71334 | nkoth | 2019-10-26 04:44:21 +0100 (Sat, 26 Oct 2019) | 2 lines
[bp/r71332][FIX] Custom error message was not showing for categories and multiselect field
----------------------------------------------
r71284 | nkoth | 2019-10-22 17:22:59 +0100 (Tue, 22 Oct 2019) | 2 lines
[bp/r71282][FIX] If you set wysiwyg:n in profile it creates it as wysiwyg=y (which is wrong)
----------------------------------------------
r71255 | nkoth | 2019-10-18 17:28:08 +0100 (Fri, 18 Oct 2019) | 2 lines
[bp/r71253][FIX] In Elasticsearch, when performing a wildcard search on a text field you need to use lowercase, otherwise it won't match, see https://discuss.elastic.co/t/wildcard-search-case-insensitive/122337
----------------------------------------------
r71204 | nkoth | 2019-10-11 15:33:00 +0100 (Fri, 11 Oct 2019) | 2 lines
[bp/r71202][FIX] If you try and edit/reply comment and then click another edit/reply, the form closes ok but the replacement edit/reply link doesn't trigger js anymore as it's missing the right class.
----------------------------------------------
r71195 | jonnybradley | 2019-10-10 17:21:14 +0100 (Thu, 10 Oct 2019) | 1 line
[bp/r71194][FIX] lang: Make custom.js lang files work again (following r63968 but caused by r54754, so not totally my fault ;)
----------------------------------------------
r71182 | nkoth | 2019-10-08 21:58:12 +0100 (Tue, 08 Oct 2019) | 2 lines
[bp/r71180][FIX] user item update after tracker item update not being triggered due to string value i.e. status in list of fields
----------------------------------------------
r71166 | nkoth | 2019-10-05 19:16:10 +0100 (Sat, 05 Oct 2019) | 2 lines
[bp/r71164][FIX] (1) File gallery was not being updated when mode: update was set. (2) init_files was not adding any new files on update. (3) file gallery was not being updated if a new name was provided.
----------------------------------------------
r71106 | rjsmelo | 2019-09-29 22:29:17 +0100 (Sun, 29 Sep 2019) | 2 lines
[FIX] Add missing ENGINE=MyISAM declarations
----------------------------------------------
r71104 | rjsmelo | 2019-09-29 21:57:42 +0100 (Sun, 29 Sep 2019) | 4 lines
[bp/r71100][REF] Extend the timeout waiting for the external command to avoid false positives in the CI pipeline
[bp/r71101][REF] Fix the check for the SQL engine declaration in tiki.sql and the schema update files, was not catching some cases.
[bp/r71102][FIX] Add missing SQL engine declarations and remove places where the charset was being forced in the script itself.
----------------------------------------------
r71095 | rjsmelo | 2019-09-29 15:37:08 +0100 (Sun, 29 Sep 2019) | 2 lines
[bp/r71093][FIX] Wrong usage of the fallback base url (that is already handled as part of the request setup process) leading to broken urls in notifications.
----------------------------------------------
r71075 | jonnybradley | 2019-09-26 01:11:08 +0100 (Thu, 26 Sep 2019) | 1 line
[FIX] php5: Correct php7 syntax backported in r71051 (apologies and thanks marclaporte)
----------------------------------------------
r71074 | jonnybradley | 2019-09-25 18:05:50 +0100 (Wed, 25 Sep 2019) | 1 line
[bp/r71073][bp/r71071][FIX] maths: When checking for a possibly empty value with IsEmpty include missing values as "empty" instead of throwing an error
----------------------------------------------
r71070 | jonnybradley | 2019-09-25 17:04:25 +0100 (Wed, 25 Sep 2019) | 1 line
[bp/r71069][bp/r70781][ENH] list: Add {calc} plugin (control block) support to plugin list wiki templates which allows https://doc.tiki.org/Calculations to be combined with {display} for conditional content display etc without using Smarty templates
----------------------------------------------
r71051 | jonnybradley | 2019-09-24 17:15:37 +0100 (Tue, 24 Sep 2019) | 1 line
[bp/r71050][bp/r71048][ENH] search: Add facets to plugin list (and add \Search_Query_FacetWikiBuilder::getFacets and check to avoid running getFacetProvider if there are none in use)
----------------------------------------------
r71035 | montefuscolo | 2019-09-21 16:18:15 +0100 (Sat, 21 Sep 2019) | 5 lines
[FIX] Avoid mpdf removing unexpected cache files by creating specific temp folder to it
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/168)
(cherry picked from commit c77ecb0d6e1aa6b58f1d83747d45c978ba54693c)
----------------------------------------------
r70957 | montefuscolo | 2019-09-13 20:53:00 +0100 (Fri, 13 Sep 2019) | 1 line
[FIX] Make console.php files:deleteold works again
----------------------------------------------
r70956 | montefuscolo | 2019-09-13 20:07:51 +0100 (Fri, 13 Sep 2019) | 1 line
[FIX] Avoid multiple slashs at the end of path breaking command files:batchupload
----------------------------------------------
r70951 | jyhem | 2019-09-12 23:06:54 +0100 (Thu, 12 Sep 2019) | 1 line
[bp/r70947] typo fxed in french
----------------------------------------------
r70928 | jonnybradley | 2019-09-10 17:37:01 +0100 (Tue, 10 Sep 2019) | 2 lines
[bp/r70927][bp/r69335][NEW] Console: added tracker:export command to export tracker items to a CSV file using the tabular tracker format
(modified manually because Feedback::printToConsole was introduced in 19.x)
----------------------------------------------
r70917 | jonnybradley | 2019-09-10 12:17:15 +0100 (Tue, 10 Sep 2019) | 3 lines
[bp/r70916][bp/r70877][ENH] search: Take #2 at exposing 'order' and 'min_doc_count' elastic search parameters on aggregations (facets)
Note order only seems to work as _count_asc, _count_desc (default), _term_asc or _term_desc (alpha sort es5) or _key_asc or _key_desc (es 6+)
[more info here https://www.elastic.co/guide/en/elasticsearch/reference/5.6/search-aggregations-bucket-terms-aggregation.html]
----------------------------------------------
r70905 | nkoth | 2019-09-09 19:35:28 +0100 (Mon, 09 Sep 2019) | 2 lines
[bp/r70903][FIX] Character count was not consistent with count on save (which does truncation) and on loading
----------------------------------------------
r70902 | nkoth | 2019-09-09 18:50:11 +0100 (Mon, 09 Sep 2019) | 2 lines
[bp/r70900] Count of characters should include spaces
----------------------------------------------
r70840 | montefuscolo | 2019-09-04 17:57:28 +0100 (Wed, 04 Sep 2019) | 3 lines
[FIX] Make 443 the default value for https_port
(cherry picked from commit be3c1c9c4123122954d4af24b9ad234ca20b5606)
----------------------------------------------
r70839 | montefuscolo | 2019-09-04 17:56:10 +0100 (Wed, 04 Sep 2019) | 3 lines
[FIX] HTTPS port behind proxy, but respecting https_port preference
(cherry picked from commit 17554d05bb2ef9ed680568467fdaa6f94c6f8067)
----------------------------------------------
r70838 | medvedvvs | 2019-09-04 17:55:43 +0100 (Wed, 04 Sep 2019) | 5 lines
[FIX] Update tiki-setup_base.php: changing the SSL port definition scheme. Config is taken from the database and then SSL port is set to the value obtained (or 443, or from _SERVER var).
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/159)
(cherry picked from commit 9383e1f117fbc3b80807a8ae743d61f57df9ec52)
----------------------------------------------
r70803 | jonnybradley | 2019-09-03 18:20:20 +0100 (Tue, 03 Sep 2019) | 2 lines
[Revert r70802] All shards fail in some case, reverting while investigating...
[br/r70801][bp/r70800][ENH] search: Expose 'order' and 'min_doc_count' elastic search parameters on aggregations...
----------------------------------------------
r70802 | jonnybradley | 2019-09-03 17:18:08 +0100 (Tue, 03 Sep 2019) | 3 lines
[bp/r70801][bp/r70800][ENH] search: Expose 'order' and 'min_doc_count' elastic search parameters on aggregations (facets)
Note order only seems to work as _count_asc, _count_desc (default), _term_asc or _term_desc (alpha sort)
[Note 2: Manually adapted as date facets/aggs were added in 20.x following some refactoring]
----------------------------------------------
r70766 | xorti | 2019-08-29 00:50:42 +0100 (Thu, 29 Aug 2019) | 1 line
[ENH] Update tiki-check.php
----------------------------------------------
r70679 | nkoth | 2019-08-17 05:32:28 +0100 (Sat, 17 Aug 2019) | 2 lines
[bp/r70677][FIX] Ajax tracker update: wait for indexing to complete before loading of next request to ensure updated info shown (was already there for new inserts)
----------------------------------------------
r70649 | drsassafras | 2019-08-13 22:48:31 +0100 (Tue, 13 Aug 2019) | 1 line
[UPD] saml - update package requirements
----------------------------------------------
r70642 | rjsmelo | 2019-08-13 00:13:00 +0100 (Tue, 13 Aug 2019) | 2 lines
[REF] Backport release script from trunk to 18.x
----------------------------------------------
r70638 | rjsmelo | 2019-08-12 22:47:19 +0100 (Mon, 12 Aug 2019) | 2 lines
[bp/r68514][FIX] Sitemap was only checking global permissions, so was not displaying items that had category or object permissions. Also some small improvements.
----------------------------------------------
Version 18.4
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
r70556 | jonnybradley | 2019-08-05 12:58:20 +0100 (Mon, 05 Aug 2019) | 4 lines
[bp/r69968][bp/r69060][ENH] autotoc: Add new pref to define the default behaviour of autotoc, so you can now have it default to "off" and then enable it per page 
[bp/r69447][FIX] autotoc: Missing part from r69060 to make it actually work (also add some useful keywords to the relevant prefs) 
[bp/r69558][FIX] autotoc: Fix faulty logic on per page autotoc decision (which fixes my new test :) 
[bp/r70555][bp/r70215][FIX] autotoc: Handle html tags in autotoc links properly (thanks luiciash)
----------------------------------------------
r70518 | xorti | 2019-08-01 01:33:38 +0100 (Thu, 01 Aug 2019) | 3 lines
[bp/r70027][ENH] Improvements in scheduler runs when cron is not set to run on every minute
[manually re-applied after revision loss - old r70512]
----------------------------------------------
r70513 | jonnybradley | 2019-07-31 16:42:23 +0100 (Wed, 31 Jul 2019) | 3 lines
[bp/r70511][bp/r69827][FIX] sefurl: In some setups this tries to redeclare smarty_modifier_sefurl as smarty_modifier_sefUrl which causes an error. Also the 'wiki' type parameter isn't required as that is the default (and should be a string any way). 
[manually re-applied as it seems to have been reverted and svn thinks it's already been backported]
[take #2 - file didn't get committed... svn is trying to tell us something I think]
----------------------------------------------
r70512 | jonnybradley | 2019-07-31 16:41:02 +0100 (Wed, 31 Jul 2019) | 2 lines
[bp/r70511][bp/r69827][FIX] sefurl: In some setups this tries to redeclare smarty_modifier_sefurl as smarty_modifier_sefUrl which causes an error. Also the 'wiki' type parameter isn't required as that is the default (and should be a string any way). 
[manually re-applied as it seems to have been reverted and svn thinks it's already been backported]
----------------------------------------------
r70500 | jonnybradley | 2019-07-25 18:18:50 +0100 (Thu, 25 Jul 2019) | 2 lines
[bp/r70499][bp/r70496][ENH] maps: Add a way of optionally setting the name of a layer or layer group using Name=layer_name
e.g. "Bing=bing_road,Watercolour=stamen_watercolor~stamen_terrain-labels,nextzen~stamen_toner-labels"
----------------------------------------------
r70489 | jonnybradley | 2019-07-24 16:57:04 +0100 (Wed, 24 Jul 2019) | 22 lines
[bp/r70481][bp/r70444][FIX] maps: Various fixes, make the search and location buttons look like buttons, fix to my location for ol3 and fix removal of previous instances of a unique marker (like selection). 
[bp/r70445][ENH] maps: Clicking on a cluster zooms to the contents of the cluster (thanks marclaporte) - also refactor displayFeatureInfo and showPopup functions so they can be overridden by custom code if needs be 
[bp/r70452][ENH] maps: Add ZoomSlider and make coordinates work properly (although i'm not convinced that's really the right projection for our maps)
Also define them all before the map constructor instead of adding them afterwards. 
[bp/r70459][ENH] maps: Add 3rd party walkermatt/ol-layerswitcher to restore the layer switcher in ol3+ mode 
[bp/r70460][REF] maps: Move some big blocks of stubborn code still needing updating to ol3+ to the end of the file to they don't get forgotten about (completely) 
[bp/r70476][ENH] maps: Improve grouping of base and overlay layers in teh layer switcher. And allow tilesets to be grouped within one layer so you can have a map and labels combined in a single switchable map "layer"
e.g.
    tilesets="bing_road,stamen_watercolor~stamen_terrain-labels,nextzen~stamen_toner-labels" 
[bp/r70480][FIX] maps: jqueryTiki.mapTileSets is already an array so only split string values from the plugin tilesets parameter 
Also ran composer update with these automatic updates:
  - Updating blueimp/jquery-file-upload (v9.32.0 => v9.34.0)
  - Updating ckeditor/ckeditor (4.11.4 => 4.12.1)
  - Updating ezyang/htmlpurifier (v4.10.0 => v4.11.0)
  - Updating phpseclib/phpseclib (2.0.20 => 2.0.21) 
[bp/r70488][bp/r70487][FIX] maps: Handle layers problems better (i.e. trying to show ol2 layers on ol3+ maps) 
Also ran php56 composer update which auto-updated:
  - Updating blueimp/jquery-file-upload (v9.32.0 => v9.34.0)
  - Updating ckeditor/ckeditor (4.11.4 => 4.12.1)
  - Updating ezyang/htmlpurifier (v4.10.0 => v4.11.0)
  - Updating phpseclib/phpseclib (2.0.20 => 2.0.21)
----------------------------------------------
r70475 | jyhem | 2019-07-23 16:11:55 +0100 (Tue, 23 Jul 2019) | 1 line
[UX][bp/70473] Replace ambiguous fun word with more expressive one (ugly {U+2192} unsure)
----------------------------------------------
r70464 | jyhem | 2019-07-23 01:12:36 +0100 (Tue, 23 Jul 2019) | 1 line
[UX][bp/r70462] Hide scary messages for advanced users in 'more' option
----------------------------------------------
r70451 | montefuscolo | 2019-07-21 07:49:53 +0100 (Sun, 21 Jul 2019) | 1 line
[FIX] composer was not running packages without git
----------------------------------------------
r70443 | robertokir | 2019-07-18 22:16:10 +0100 (Thu, 18 Jul 2019) | 1 line
[bp/r70421][FIX][ENH] Report all occurrences of a string in any table: fixes and enhancements
----------------------------------------------
r70431 | jonnybradley | 2019-07-16 17:45:34 +0100 (Tue, 16 Jul 2019) | 4 lines
[bp/r70429] More on ol3+ maps from 19.x
[bp/r70426][FIX] maps: Better positioning of "popover" popups when selected 
[bp/r70427][FIX] maps: Add colouring for ferries and airports on nextzen vector maps 
[bp/r70428][FIX] maps: When over a cluster make the tooltips appear correctly for the features revealed within.
----------------------------------------------
r70425 | jonnybradley | 2019-07-16 15:16:29 +0100 (Tue, 16 Jul 2019) | 6 lines
[bp/r70424] Combined ol3+ enhancements and fixes form 19.x
[bp/r70377][ENH] maps: Show what's inside a cluster on hover (optionally). Can cause flickering which needs fixing somehow... 
[bp/r70378][ENH] maps: Add Stamen map layers, e.g. stamen_watercolor,stamen_terrain-labels (full list here http://maps.stamen.com) 
[bp/r70380][ENH] maps: Add basic support for Nextzen vector maps (API key from https://developers.nextzen.org required) [thanks Xavi] 
[bp/r70393][FIX] maps: Tooltips weren't hiding properly 
[bp/r70418][ENH] maps: Move the nextzen vector map style function into one place and simplify it a bit so you can override it in window.nextzenStyle() (and a couple of fixes for events on vector layers)
----------------------------------------------
r70423 | jonnybradley | 2019-07-16 14:59:00 +0100 (Tue, 16 Jul 2019) | 2 lines
[bp/r70422][bp/r70413][ENG] images: Expose access to GD and Imagick image compression settings. Only working on JPEGs and PNGs (loss-less) so far
Manual backport due to refactoring of the Image classes in 19.x
----------------------------------------------
r70408 | jonnybradley | 2019-07-10 17:06:37 +0100 (Wed, 10 Jul 2019) | 1 line
[bp/r70407][bp/r70405][FIX] trackers: When importing changes to linked Wiki pages get the itemId from the requestData
----------------------------------------------
r70404 | jonnybradley | 2019-07-10 17:00:11 +0100 (Wed, 10 Jul 2019) | 1 line
[bp/r68568][FIX] wiki: Escape square brackets when importing html
----------------------------------------------
r70396 | jonnybradley | 2019-07-09 15:46:45 +0100 (Tue, 09 Jul 2019) | 1 line
[bp/r70395][bp/r70334][FIX] validators: Observe fixed-top layout offset (i.e. "Classic Bootstrap (fixed top navbar)") for scrolling when not in a modal. Also focus select elements properly if using jquery chosen.
----------------------------------------------
r70363 | jonnybradley | 2019-07-04 17:03:07 +0100 (Thu, 04 Jul 2019) | 1 line
[FIX] maps: Changes for bootstrap 3 following backport from 19.x
----------------------------------------------
r70362 | jonnybradley | 2019-07-04 17:00:54 +0100 (Thu, 04 Jul 2019) | 26 lines
[bp/r70360] Combined backport for OpenLayers v3+ fixes
Also ran composer update manually
[bp/r69884][FIX] maps: Some fixes for newer versions of OpenLayers, currently still ol3
Added support for Bing map layers and API key (Google is deprecated)
Some fixes for converting lon/lat degree arrays to fractional coordinates needed now
Partial fix for icons, tracker item markers still not working for me
More to come... 
[bp/r69885][FIX] maps: Markers now appearing (needed parseFloat on the strings coming from the ajax service - projection still not quite right, but closer now 
[bp/r69886][FIX] maps: Use the same view and just re-centre it and only have on resetPosition function (didn't fix projection issues though) 
[bp/r69982][UPD] maps: Replace openlayers 3.x with 5.x - some improvements, like zoom buttons returned but marker layer projection still wrong 
[bp/r69989][UPD] openlayers: Fixed the marker location issue - wasn't the projection but the anchor offset needs to be plus on minus (also removed a duplicate delayedExecutor fn and some comments) 
[bp/r70217][FIX] maps: Tooltips now working on ol3+ maps (still very experimental though) 
[bp/r70218][FIX] maps: Popovers & dialogs now working on ol3+ maps (also quite experimental) 
[bp/r70252][ENH] maps: Add basic clustering for marker features for ol3+ 
[bp/r70254][FIX] maps: Fix tooltips and popups when features are clusters 
[bp/r70292][ENH] js: New function to allow removal of previously included js files (usage to come next) 
[bp/r70293][ENH] maps: New param for map plugin to allow testing of ol3+ maps when the main pref is set to ol2 
[bp/r70295][FIX] maps: Use current library pref as default if not specified 
[bp/r70296][ENH] maps: Improved cluster size calculation based on features' extents 
[bp/r70339][ENH] maps: Expose cluster fill and text colours for ol3 maps 
[bp/r70340][ENH] maps: Add a way to specify a layer for ol3 maps (only the last layer shows so far as we don't have a LayerSwitcher control yet) 
[bp/r70342][FIX] maps: Cope with no tilesets param properly 
[bp/r70344][FIX] maps: Cope with a single tilesets param 
[bp/r70355][FIX] maps:Make it clear which tilesets can be used with which OpenLayers versions 
[bp/r70356][FIX] maps: Clustering wasn't working for features added by the "scope" plugin parameter (only using searchlayer plugins inside the plugin body)
----------------------------------------------
r70361 | jonnybradley | 2019-07-04 16:53:40 +0100 (Thu, 04 Jul 2019) | 26 lines
[UPD] Automatic composer updates
blueimp/jquery-file-upload 9.28.0 >> 9.32.0
ckeditor/ckeditor 4.11.3 >> 4.11.4
components/bootstrap 3.4.0 >> 3.4.1
cweagans/composer-patches 1.6.5 >> 1.6.6
jasig/phpcas 1.3.6 >> 1.3.7
phpseclib/phpseclib 2.0.15 >> 2.0.20
plotly/plotly.js 1.46.1 >> 1.48.3
rmm5t/jquery-timeago 1.6.5 >> 1.6.7
studio-42/elfinder 2.1.48 >> 2.1.49
symfony/config 3.4.24 >> 3.4.29
symfony/console 3.4.24 >> 3.4.29
symfony/css-selector 3.4.24 >> 3.4.29
symfony/debug 3.4.24 >> 3.4.29
symfony/dependency-injection 3.4.24 >> 3.4.29
symfony/filesystemn 3.4.24 >> 3.4.29
symfony/processn 3.4.24 >> 3.4.29
symfony/yamln 3.4.24 >> 3.4.29
zendframework/zend-captcha 2.8.0 >> 2.9.0
zendframework/zend-config 3.2.0 >> 3.3.0
zendframework/zend-crypt 3.3.0 >> 3.3.1
zendframework/zend-tag 2.7.0 >> 2.7.1
phpspec/prophecy 1.8.0 >> 1.8.1
wimg/php-compatibility 9.1.1 >> 9.2.0
and lots of "reference": null lines removed
----------------------------------------------
r70338 | jonnybradley | 2019-07-03 16:38:37 +0100 (Wed, 03 Jul 2019) | 1 line
[bp/r70336][bp/r70335][FIX] datepickers: Fix the "Today" button on date picker dialogs showing the date without the time
----------------------------------------------
r70279 | jonnybradley | 2019-06-27 11:39:00 +0100 (Thu, 27 Jun 2019) | 1 line
[bp/r70278][bp/r70276][ENH] slugs: A couple of improvements for better SEO - default to lower case and don't break words (optionally)
----------------------------------------------
r70220 | jyhem | 2019-06-17 19:15:49 +0100 (Mon, 17 Jun 2019) | 1 line
[FIX][bp/r70219] Remove annoying 'table xxx already exists' warnings on database upgrades which were meant to be ignored anyway
----------------------------------------------
r70200 | jonnybradley | 2019-06-11 18:04:02 +0100 (Tue, 11 Jun 2019) | 1 line
[bp/r70199][bp/r70198][FIX] trackers: If using a field as |output and the user only has canViewField perm on it we need the trackerId after the form has been posted to do renderOutput() on it.
----------------------------------------------
r70189 | jyhem | 2019-06-11 00:45:56 +0100 (Tue, 11 Jun 2019) | 1 line
[UX][bp/r70186] Cosmetic changes for much improved usability. Less scrolling up and down.
----------------------------------------------
r70166 | xorti | 2019-06-06 23:45:10 +0100 (Thu, 06 Jun 2019) | 1 line
[bp/r68358][ENH][UX] Add better context of missing tiki package
----------------------------------------------
r70160 | jonnybradley | 2019-06-06 16:37:40 +0100 (Thu, 06 Jun 2019) | 1 line
[bp/r70159][bp/r70072][NEW] smarty: New modifier to "sluggify" strings for use in URLs in custom templates [from revision 70072]
----------------------------------------------
r70158 | jonnybradley | 2019-06-06 15:45:05 +0100 (Thu, 06 Jun 2019) | 1 line
[bp/r69936][bp/r69934][FIX] objects: Fix conflict between pref jquery_ui_chosen_sortable and object_selector_multi when there are more results than the threshold tiki_object_selector_threshold (i.e. Relations fields not editable) [many thanks Nelson for feedback, testing and moral support!]
----------------------------------------------
r70098 | jyhem | 2019-05-29 09:41:34 +0100 (Wed, 29 May 2019) | 1 line
[FIX][bp/r70096] Restore functionality from Tiki15. Allow editing plugins which include other plugins again (thanks Jonny)
----------------------------------------------
r70087 | xorti | 2019-05-27 15:20:02 +0100 (Mon, 27 May 2019) | 1 line
[bp/r69867][FIX] Fix encoding issues when parsing content from rss external feeds
----------------------------------------------
r70060 | jonnybradley | 2019-05-23 16:53:50 +0100 (Thu, 23 May 2019) | 2 lines
[FIX] popovers: Add data attributes to the bootstrap whitelist and remove redundant form tags from fgal_context_menu.tpl (unused since r62687)
(not relevant for trunk or 19.x)
----------------------------------------------
r70059 | jonnybradley | 2019-05-23 13:46:24 +0100 (Thu, 23 May 2019) | 1 line
[bp/r70058][FIX] trackers: Stray curly bracket after upload button (not in trunk it seems)
----------------------------------------------
r70050 | jonnybradley | 2019-05-22 18:56:17 +0100 (Wed, 22 May 2019) | 1 line
[bp/r70049][bp/r70007][FIX] trackers: Make the output modifier work for fields the user cannot edit in pretty tracker templates if they can view them
----------------------------------------------
r70048 | jonnybradley | 2019-05-22 18:27:54 +0100 (Wed, 22 May 2019) | 1 line
[bp/r70047][bp/r70046][FIX] php7: "Only variables should be passed by reference" (in plugin tracker notifications, possibly causing emails to not be sent)
----------------------------------------------
r70036 | montefuscolo | 2019-05-21 16:27:44 +0100 (Tue, 21 May 2019) | 1 line
[FIX] Ignore VisualStudio files
----------------------------------------------
r70034 | xorti | 2019-05-21 15:28:59 +0100 (Tue, 21 May 2019) | 1 line
[bp/r69555][NEW] Add new tab 'Packages Custom' in Tiki Packages section to list manually managed packages installed in vendor_custom
----------------------------------------------
r70025 | jonnybradley | 2019-05-16 20:34:13 +0100 (Thu, 16 May 2019) | 2 lines
[bp/r70024][FIX] rss/articles: More cleanup from field `hash` being removed top prevent fatal errors (not sure why, but see r63365)
Not a backport as it seems to be ok in trunk, i just don't understand how this can be as the commit was in 2017...
----------------------------------------------
r70023 | jonnybradley | 2019-05-16 20:08:37 +0100 (Thu, 16 May 2019) | 1 line
[bp/r70022][bp/r70021][FIX] rss: Field `hash` was removed from tiki_submissions table a few years ago (not sure why), and this broke external rss feed refresh when using article generator and submissions together
----------------------------------------------
r69984 | robertokir | 2019-05-12 11:20:35 +0100 (Sun, 12 May 2019) | 1 line
[bp/r69983][FIX] Tracker item popups: respect "Hide empty fields from item view" tracker display property
----------------------------------------------
r69980 | rjsmelo | 2019-05-11 16:33:29 +0100 (Sat, 11 May 2019) | 2 lines
[bp/69832][ENH] Change the BOM checker in tiki-check to run only on request
----------------------------------------------
r69940 | jyhem | 2019-05-08 00:09:09 +0100 (Wed, 08 May 2019) | 1 line
[FIX][bp/r69939] Wiki page attachments upload comments were lost using feature_use_fgal_for_wiki_attachments. Now we store them both in comments and description for backward compatibility and restoration of functionality.
----------------------------------------------
r69921 | jyhem | 2019-05-03 17:43:44 +0100 (Fri, 03 May 2019) | 1 line
[FIX][bp/r69919] The All option did not display any freetag at all
----------------------------------------------
r69914 | robertokir | 2019-05-02 10:36:12 +0100 (Thu, 02 May 2019) | 1 line
[bp/r69913][FIX] PluginTrackerList: Check permissions properly in pop-ups. Also, do not show blank pop-up when no fields should show (thanks Marc)
----------------------------------------------
r69865 | robertokir | 2019-04-24 16:31:35 +0100 (Wed, 24 Apr 2019) | 1 line
[bp/r69863][FIX] PluginMemberList: shouldn't permit to remove a user from the Registered group + The Anonymous tab makes no sense (thanks Marc)
----------------------------------------------
r69857 | amnabilal | 2019-04-24 14:19:31 +0100 (Wed, 24 Apr 2019) | 1 line
[bp/r69655][FIX]Fixed small issue, blank page was being created if pluginPDFPage is used to change settings of first page.
----------------------------------------------
r69829 | jonnybradley | 2019-04-23 12:55:15 +0100 (Tue, 23 Apr 2019) | 1 line
[bp/r69828][bp/r69827][FIX] sefurl: In some setups this tries to redeclare smarty_modifier_sefurl as smarty_modifier_sefUrl which causes an error. Also the 'wiki' type parameter isn't required as that is the default (and should be a string any way).
----------------------------------------------
r69822 | jyhem | 2019-04-23 01:13:10 +0100 (Tue, 23 Apr 2019) | 1 line
[UX][bp/r69820] Make error message actually helpful so people don't think it's a permission bug like I did
----------------------------------------------
r69807 | montefuscolo | 2019-04-19 02:20:54 +0100 (Fri, 19 Apr 2019) | 1 line
[FIX] Shasum for zetacomponents/webdav
----------------------------------------------
r69798 | jonnybradley | 2019-04-17 18:26:02 +0100 (Wed, 17 Apr 2019) | 2 lines
[FIX] popovers: Whitelist tables etc in popovers due to new sanitizing in bootstrap 3.4.1 - fixes tracker item popups
Not a backport as not relevant yet to trunk or 19.x
----------------------------------------------
r69781 | nelsonko | 2019-04-15 20:05:28 +0100 (Mon, 15 Apr 2019) | 4 lines
[bp/r69779][FIX] When there are spaces in user names, the wrong user's information can be shown. For example, if there is "John Ace" and "John Doe" then it is possible John Ace's information will show when trying to view John Doe's. This is because $unifiedsearchlib->buildQuery uses filterContent which is a plaintext search for either of the terms, rather than filterIdentifier which searches for an exact match.
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/98)
(cherry picked from commit a2c15c96c5d419e961e1c0246cac17f70096f7b5)
----------------------------------------------
r69776 | jonnybradley | 2019-04-15 14:53:21 +0100 (Mon, 15 Apr 2019) | 2 lines
[MOD] comments: Increase the hard-coded maximum number of comments shown from 100 to 300
Not a backport as proper pagination and sorting have been added to 19.x, and deemed to large a change to backport [thanks marclaporte]
----------------------------------------------
r69772 | jonnybradley | 2019-04-14 15:17:15 +0100 (Sun, 14 Apr 2019) | 34 lines
[UPD] Automatic composer updates, mainly for jquery-timepicker-addon to fix the js error when clicking "today" but various other minor updates, which look safe enough (i hope!)
  - Updating ckeditor/ckeditor (4.11.1 => 4.11.3)
  - Updating jquery/jquery-timepicker-addon (1.6.1 => 1.6.3)
  - Updating pear/console_getopt (v1.4.1 => v1.4.2)
  - Updating pear/pear (v1.10.7 => v1.10.9)
  - Updating pear/archive_tar (1.4.6 => 1.4.7)
  - Updating pear/xml_parser (v1.3.7 => v1.4.2)
  - Updating phpseclib/phpseclib (2.0.14 => 2.0.15)
  - Updating plotly/plotly.js (v1.44.1 => v1.46.1)
  - Updating rmm5t/jquery-timeago (v1.6.4 => v1.6.5)
  - Updating studio-42/elfinder (2.1.46 => 2.1.48)
  - Updating symfony/polyfill-ctype (v1.10.0 => v1.11.0)
  - Updating symfony/filesystem (v3.4.22 => v3.4.24)
  - Updating symfony/config (v3.4.22 => v3.4.24)
  - Updating symfony/polyfill-mbstring (v1.10.0 => v1.11.0)
  - Updating symfony/debug (v3.4.22 => v3.4.24)
  - Updating symfony/console (v3.4.22 => v3.4.24)
  - Updating symfony/dependency-injection (v3.4.22 => v3.4.24)
  - Updating symfony/process (v3.4.22 => v3.4.24)
  - Updating twitter/bootstrap (v3.4.0 => v3.4.1)
  - Updating zendframework/zend-feed (2.11.0 => 2.12.0)
  - Updating zendframework/zend-uri (2.6.1 => 2.7.0)
  - Updating zendframework/zend-http (2.9.1 => 2.10.0)
  - Updating zendframework/zendservice-recaptcha (3.1.0 => 3.2.0)
  - Updating mikey179/vfsstream (v1.6.5 => v1.6.6)
  - Updating symfony/yaml (v3.4.22 => v3.4.24)
  - Updating sebastian/recursion-context (1.0.5 => 2.0.0)
  - Updating sebastian/object-enumerator (1.0.0 => 2.0.1)
  - Updating sebastian/exporter (1.2.2 => 2.0.0)
  - Updating phpunit/phpunit (5.5.4 => 5.7.27)
  - Updating squizlabs/php_codesniffer (3.4.0 => 3.4.2)
  - Updating symfony/css-selector (v3.4.22 => v3.4.24)
  - Updating zendframework/zend-math (2.7.1 => 3.2.0)
  - Updating zendframework/zend-crypt (2.6.0 => 3.3.0)
----------------------------------------------
r69771 | jonnybradley | 2019-04-14 15:15:18 +0100 (Sun, 14 Apr 2019) | 1 line
[FIX] calendars: Fix odd js error preventing creating new events in full calendar, fixed in 19+ in r66298 as part of more major work (thanks xorti)
----------------------------------------------
r69769 | montefuscolo | 2019-04-13 14:46:08 +0100 (Sat, 13 Apr 2019) | 4 lines
[rb/r69748] Revert "[bp/r69747][FIX] Remove ENGINE=MyISAM so that it won't error when using on a system with no support for MyISAM"
This reverts commit 9fd484ead0678f57cad825e46a7aeec669072111.
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/83)
----------------------------------------------
r69766 | nelsonko | 2019-04-12 19:34:49 +0100 (Fri, 12 Apr 2019) | 4 lines
[bp/r69764][FIX] More reliable browser cache busting for when static avatars or the default avatar image changes (to avoid avatar that has changed looking like not changed)
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/95)
(cherry picked from commit 220a9df7dffa2e78066576a4dc88a4fbe6753f7b)
----------------------------------------------
r69762 | nelsonko | 2019-04-12 17:33:49 +0100 (Fri, 12 Apr 2019) | 4 lines
[bp/r69761][FIX] If a user has export tracker permission but does not have permission to view certain fields, then he should not be able to export data that are in those fields.
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/94)
(cherry picked from commit e725ff44984949aabcd65743bc545b8e07d27622)
----------------------------------------------
r69759 | nelsonko | 2019-04-12 17:26:01 +0100 (Fri, 12 Apr 2019) | 4 lines
[bp/r69758][FIX] Object selector filtering should only filter the title field, not the entire contents field, otherwise you will get many objects that don't seem to match
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/93)
(cherry picked from commit 3dc1ac7bfbc0eb920925fb1409abf3d86966cc1a)
----------------------------------------------
r69756 | holmann.ling | 2019-04-12 17:08:24 +0100 (Fri, 12 Apr 2019) | 4 lines
[bp/r69755][FIX] accept headers was not being respected because of errorneous strpos needle/haystack parameters
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/90)
(cherry picked from commit e3e2e094c263609c7c71f613ce189961844fc65e)
----------------------------------------------
r69754 | nelsonko | 2019-04-12 16:39:17 +0100 (Fri, 12 Apr 2019) | 3 lines
[FIX] The previous attempted caching of field mappings to save connections to ES server completely broke all my LIST plugins as it can't find the field info through that series of resets. Here is a simpler caching which gives pretty good results too, which does not change the lookup behavior from before.
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/86)
----------------------------------------------
r69748 | nelsonko | 2019-04-12 16:15:59 +0100 (Fri, 12 Apr 2019) | 3 lines
[bp/r69747][FIX] Remove ENGINE=MyISAM so that it won't error when using on a system with no support for MyISAM
(close https://gitlab.com/tikiwiki/tiki/merge_requests/83)
----------------------------------------------
r69743 | kroky6 | 2019-04-12 14:05:14 +0100 (Fri, 12 Apr 2019) | 1 line
[bp/r69741] [FIX] regression after r68720 that prevented tracker_item_modify list-execute action to work with string supplied value in the step action itself
----------------------------------------------
r69731 | nelsonko | 2019-04-11 22:48:40 +0100 (Thu, 11 Apr 2019) | 4 lines
[FIX][DOC] Provide more explanatory error message. TODO: when uploading in tracker edit dialog, entire dialog closes. Ideally, there should be a way to show the error without aborting the whole edit dialog.
(closes https://gitlab.com/tikiwiki/tiki/merge_requests/76)
(cherry picked from commit bdf9081e7cdc397c6bc7c687153ad53b05e3686f)
----------------------------------------------
r69698 | jonnybradley | 2019-04-10 17:20:37 +0100 (Wed, 10 Apr 2019) | 1 line
[bp/r69414][ENH] search: Extend the list plugin "wikiplugin" formatter to allow value replacements in the body of the plugin, e.g. to allow nested list plugins within a list or listexecute {format} sub-plugin
----------------------------------------------
r69686 | holmann.ling | 2019-04-09 23:10:09 +0100 (Tue, 09 Apr 2019) | 4 lines
[bp/r69684][FIX] when installing .yml profiles from tiki/installer/schema folder patch was considered fail even when successful
(close https://gitlab.com/tikiwiki/tiki/merge_requests/73)
(cherry picked from commit 09cbec5af850dc5be0d049506594f45855760cb4)
----------------------------------------------
r69685 | holmann.ling | 2019-04-09 23:09:10 +0100 (Tue, 09 Apr 2019) | 4 lines
[bp/r69683][FIX] when updating existing tracker field with name change, was failing because code was looking for permname with the name rather than the permname
(refs https://gitlab.com/tikiwiki/tiki/merge_requests/73)
(cherry picked from commit 5767144a7edea0f35a2ece1a7bd288d3707a8263)
----------------------------------------------
r69674 | nelsonko | 2019-04-09 18:52:44 +0100 (Tue, 09 Apr 2019) | 4 lines
[bp/r69673][FIX] In Tiki 18 the tokens feature needs to use the SEFURL if feature_sefurl is on, otherwise it does not work, so fixing this to match otherwise Google preview isn't working when sefurl is on. Also increase number of hits and timeout as Google can sometimes cause multiple requests due to retries for better robustness.
(cherry picked from commit 789e0508ba27c6026d60bf67b470a8fffaf52522)
(close https://gitlab.com/tikiwiki/tiki/merge_requests/59)
----------------------------------------------
r69653 | xorti | 2019-04-07 17:13:39 +0100 (Sun, 07 Apr 2019) | 1 line
[bp/r69651][FIX] Fix php requirements in tiki-check
----------------------------------------------
r69645 | montefuscolo | 2019-04-06 16:08:55 +0100 (Sat, 06 Apr 2019) | 3 lines
[bp/r69634][FIX] Correct path for Vimeo uploader scripts
(cherry picked from commit 1030bd93c800f5a6bedb785f6cdb032298410c2e)
----------------------------------------------
r69644 | nelsonko | 2019-04-06 16:08:40 +0100 (Sat, 06 Apr 2019) | 3 lines
[bp/r69633][FIX] For some reason, the Title input field in the old Jquery dialog to upload Vimeo video cannot be edited if it's over a Bootstrap tracker edit dialog. So to solve this, replace with use of Bootstrap dialog for the Vimeo upload (which should have been done all along anyway). Also, fixed problem with the Vimeo wikiplugin not updating to show the uploaded video due to missing handling for the ticket.
(cherry picked from commit 3bb6419f8edb545fe296819fe601dbab0d4e9ba9)
----------------------------------------------
r69643 | nelsonko | 2019-04-06 16:08:30 +0100 (Sat, 06 Apr 2019) | 3 lines
[bp/r69632][FIX] Javascript errors when trying to upload Vimeo video through files field
(cherry picked from commit 2f257f74ec9f15e1d65497a9f10c56170bcc5273)
----------------------------------------------
r69642 | nelsonko | 2019-04-06 16:08:19 +0100 (Sat, 06 Apr 2019) | 3 lines
[bp/r69631][FIX] For some reason, the Vimeo uploading progress bar updating ajax was causing the tracker edit bootstrap modal to close on the second ajax request. It could be something to do with the fact that these requests send back 308 status codes. Setting global to false for the ajax call fixes it.
(cherry picked from commit c15dbf86bc7811550bd8939a657b628e4c72c52d)
----------------------------------------------
r69641 | nelsonko | 2019-04-06 16:08:00 +0100 (Sat, 06 Apr 2019) | 3 lines
[bp/r69630][FIX] Vimeo uploading not working anymore after move of 3rd party libs to vendor_bundled
(cherry picked from commit f2793e225965e148b03b4bfe5fa71980008f0ae5)
----------------------------------------------
r69624 | robertokir | 2019-04-05 17:36:00 +0100 (Fri, 05 Apr 2019) | 2 lines
[bp/69623][FIX] trackers: A few fixes for Files fields - check the value of pref fgal_tracker_existing_search properly, and use deepGallerySearch option for deepGallerySearch (although this only works in elFinder, and probably does nothing). Also only create the elFinder openElFinderDialog code when the feature is enabled.
The vars image_x and image_y still seem to do nothing...
----------------------------------------------
r69620 | luciash | 2019-04-05 14:50:01 +0100 (Fri, 05 Apr 2019) | 3 lines
[bp/r69324][FIX] Fix link in Browser Display
[bp/r69590][FIX] Files: simplify the raw browser display / download action and clarify what it does in the alt title (thanks John Morris)
----------------------------------------------
r69606 | jonnybradley | 2019-04-03 17:02:54 +0100 (Wed, 03 Apr 2019) | 1 line
[bp/r69605][bp/r69604][FIX] trackers: Fixes for ItemLink fields when using addItems - target the field's select element properly on success, and trigger update chosen afterwards, also use the correct field for the label if the fieldId option is set (multiple fields still not supported properly yet)
----------------------------------------------
r69600 | robertokir | 2019-04-02 08:55:55 +0100 (Tue, 02 Apr 2019) | 1 line
[bp/69599][ENH] Autocomplete: make autocomplete search case insensitive
----------------------------------------------
r69565 | xorti | 2019-03-27 18:27:07 +0000 (Wed, 27 Mar 2019) | 1 line
[bp/r69529][ENH] Add preview link to files in Files Tracker Field
----------------------------------------------
r69564 | jyhem | 2019-03-27 18:20:27 +0000 (Wed, 27 Mar 2019) | 1 line
[FIX][bp/r68797] wysiwyg: Fix for plugins with spaces in the name breaking ckeditor (not sure how this works but it seems to) (thanks Jonny)
----------------------------------------------
r69563 | xorti | 2019-03-27 17:55:15 +0000 (Wed, 27 Mar 2019) | 1 line
[bp/r69561][ENH] Add CI scheduled pipeline to check for vulnerabilities in vendor and vendor_bundle packages
----------------------------------------------
r69523 | rjsmelo | 2019-03-23 20:54:26 +0000 (Sat, 23 Mar 2019) | 2 lines
[REF] Fix DB upgrade from older versions of tiki, the result should be the same if you do a clean install and if you upgrade.
----------------------------------------------
r69522 | rjsmelo | 2019-03-23 20:36:56 +0000 (Sat, 23 Mar 2019) | 2 lines
[REF] Use the new name of the rule
----------------------------------------------
r69520 | rjsmelo | 2019-03-23 18:38:04 +0000 (Sat, 23 Mar 2019) | 2 lines
[REF] Update CI script check_schema_upgrade.php from trunk
----------------------------------------------
r69516 | rjsmelo | 2019-03-23 17:08:13 +0000 (Sat, 23 Mar 2019) | 2 lines
[bp/r69515][REF] Fix coding standards
----------------------------------------------
r69514 | rjsmelo | 2019-03-23 16:57:06 +0000 (Sat, 23 Mar 2019) | 2 lines
[bp/69513][FIX] In r69140 the file was added without "_tiki", this allows the script to be run also when the script without _tiki was run already
----------------------------------------------
r69507 | gta74 | 2019-03-22 14:17:26 +0000 (Fri, 22 Mar 2019) | 1 line
[TRA] ongoing translation
----------------------------------------------
r69503 | gta74 | 2019-03-21 15:52:38 +0000 (Thu, 21 Mar 2019) | 1 line
[TRA] ran get_strings and translated strings
----------------------------------------------
r69491 | xorti | 2019-03-20 02:05:20 +0000 (Wed, 20 Mar 2019) | 5 lines
[bp/r67937][FIX] Allow user to install composer from Tiki Packages UI when file is not present
- Also includes bp/r67940
- Also includes bp/r67990
----------------------------------------------
r69487 | robertokir | 2019-03-19 09:19:51 +0000 (Tue, 19 Mar 2019) | 1 line
[bp/r69486][FIX] Avoid PHP NOTICE: Undefined variable
----------------------------------------------
r69451 | amnabilal | 2019-03-14 13:34:04 +0000 (Thu, 14 Mar 2019) | 1 line
[bp/r68428][FIX] PDF filename was hardcoded to be page name, giving control to user to change.
----------------------------------------------
r69397 | jonnybradley | 2019-03-09 05:19:21 +0000 (Sat, 09 Mar 2019) | 1 line
[bp/r69396][bp/r69395][FIX] codemirror: Hasn't been updating the preview and auto save info since upgrade to version 2.x - so fix that and improve handling so it updates after 25 chars have been changed, or after 2 seconds
----------------------------------------------
r69392 | jonnybradley | 2019-03-08 03:26:35 +0000 (Fri, 08 Mar 2019) | 7 lines
[bp/r69391] Combined tracker plugin transaction backport from 19.x:
[bp/r69187][FIX] trackers: Improve tracker plugin transactions so field values are preserved on all transaction pages (no point saving each step separately as it's only one item we are creating) - also preserve itemId across tx steps so items can be edited the same way.
[ENH] trackers: Add an optional "previous" button and url for transactions so you can navigate to previous pages
TODO: Check behaviour for transactions with autofill fields 
[bp/r69189][FIX] trackers: Fix tracker plugin transactions for fields that don't store the value in the field, such as Relations fields 
[bp/r69190][FIX] trackers: Refix tracker plugin transactions for fields that don't store the value in the field - also when using pretty tracker templates
----------------------------------------------
r69390 | robertokir | 2019-03-07 19:22:06 +0000 (Thu, 07 Mar 2019) | 1 line
[bp/r69389][FIX] Report all occurrences of a string in any table: if you search for something with a double quote in it, when you go to the second level of search per table it truncated at the quote char (thanks Jonny)
----------------------------------------------
r69386 | robertokir | 2019-03-07 11:23:31 +0000 (Thu, 07 Mar 2019) | 1 line
[bp/r69385][FIX] Report all occurrences of a string in any table: Link now uses SEFURL and deals with spaces in page name; formatted some datetime columns (thanks Jonny)
----------------------------------------------
r69362 | marclaporte | 2019-03-05 08:57:28 +0000 (Tue, 05 Mar 2019) | 1 line
[FIX] Revert some unexpected changes via r69140 which was supposed to only backport the chartjs replacement of the use of chart.googleapis.com
----------------------------------------------
r69293 | robertokir | 2019-02-25 19:29:26 +0000 (Mon, 25 Feb 2019) | 1 line
[bp/69292]Escape a string in the template.
----------------------------------------------
r69283 | luciash | 2019-02-25 11:24:00 +0000 (Mon, 25 Feb 2019) | 2 lines
[bp/r69279][FIX] Tracker tabular listings: added missing table-resposive wrapper (as per https://getbootstrap.com/docs/4.1/content/tables/#responsive-tables)
----------------------------------------------
r69277 | jonnybradley | 2019-02-25 08:21:23 +0000 (Mon, 25 Feb 2019) | 2 lines
[bp/r69276][bp/r69275][FIX] http: Make usage of CURL instead of sockets depend on a pref as CURL does not work in all environments, even if installed (follows r69099).
Also add feedback on elastic connection failures to save time next time...
----------------------------------------------
r69273 | lindonb | 2019-02-25 01:01:06 +0000 (Mon, 25 Feb 2019) | 1 line
[bp/r69271][FIX] wiki: Categorize new pages before mail notifications are sent so that category permissions are observed. Should fix https://dev.tiki.org/item6696 (thanks Jonny for reporting)
----------------------------------------------
r69229 | jonnybradley | 2019-02-23 09:18:39 +0000 (Sat, 23 Feb 2019) | 1 line
[bp/r69228][bp/r69227][FIX] memberlist: Perms::bulk fails fatally when given a string as the $data param when edited in ckeditor - no idea why, possibly a php7 thing
----------------------------------------------
r69226 | jonnybradley | 2019-02-23 08:17:40 +0000 (Sat, 23 Feb 2019) | 1 line
[bp/r69225][bp/r69224][ENH] groups: Very lightweight addition to group transitions to allow setting the new group as the new default group for the user
----------------------------------------------
r69222 | robertokir | 2019-02-22 20:10:21 +0000 (Fri, 22 Feb 2019) | 2 lines
[bp/r69221][ENH] Plugin List: "table" built-in template now accepts a new parameter: title. 
Also, more future-proof with the use of the setIcon function instead of hard-coded classes.
----------------------------------------------
r69194 | nelsonko | 2019-02-20 13:20:26 +0000 (Wed, 20 Feb 2019) | 1 line
[FIX] Avoid PHP warning
----------------------------------------------
r69193 | nelsonko | 2019-02-20 13:20:17 +0000 (Wed, 20 Feb 2019) | 1 line
[FIX] get_user_details is not reliable to get groups as the results are cached. Why not use get_user_groups instead which also is more efficient anyway?
----------------------------------------------
r69181 | pom2ter | 2019-02-19 22:17:32 +0000 (Tue, 19 Feb 2019) | 1 line
[FIX] on some pages, clicking the wrench icon brought you to the top of the page for no reason
----------------------------------------------
r69180 | robertokir | 2019-02-19 15:42:33 +0000 (Tue, 19 Feb 2019) | 1 line
[FIX] fix button class (thanks Bernard and Gary)
----------------------------------------------
r69170 | jonnybradley | 2019-02-19 03:02:37 +0000 (Tue, 19 Feb 2019) | 4 lines
[bp/r69169]:
[bp/r69099]notices: go ahead and use curl if available to avoid notices when trying sockets in environments where they are not available 
[bp/r69128][FIX] search: CURL doesn't work with GET requests with a body payload, so use POST instead so Elasticsearch works again (regression from r69099 - there may be more breakages, how about making it optional?) 
[trying to open an ssl socket to example.com totally breaks elasticsearch and other http client services in some restricted environments]
----------------------------------------------
r69140 | montefuscolo | 2019-02-18 17:15:26 +0000 (Mon, 18 Feb 2019) | 1 line
Merge branch 'polynamaude/tiki-18.x' into 18.x
----------------------------------------------
r69131 | jonnybradley | 2019-02-18 11:42:17 +0000 (Mon, 18 Feb 2019) | 3 lines
[bp/r69130][bp/r69129][ENH] search: Add a class parameter to the column plugin within the list plugin table output template, example usage:
    {column sort="tracker_field_aNumber" field="tracker_field_aNumber" label="A Number" class="text-right"}
----------------------------------------------
r69126 | jonnybradley | 2019-02-18 04:03:45 +0000 (Mon, 18 Feb 2019) | 1 line
[bp/r68501][FIX] chartjs: Check for values properly but then ignore them being absent if using JSON encoded data in the body
----------------------------------------------
r69092 | jonnybradley | 2019-02-15 10:55:57 +0000 (Fri, 15 Feb 2019) | 2 lines
[bp/r67620][REF] Upgrade tiki to utf8mb4
[Partial manual backport of just the mysql search engine fixes without which it doesn't work at all in a utf8mb4 database]
----------------------------------------------
r69083 | jonnybradley | 2019-02-14 17:17:58 +0000 (Thu, 14 Feb 2019) | 1 line
[bp/r68714][MOD] modals: Extend the href argument to $.fn.clickModal so you can override the href on the link it's being applied to in javascript
----------------------------------------------
r69073 | robertokir | 2019-02-13 18:51:57 +0000 (Wed, 13 Feb 2019) | 1 line
[bp/r68748][ENH] plugin list: table template now accepts two new parameters: allowtableexpansion and shownbitems (as trackerlist did before)
----------------------------------------------
r69068 | robertokir | 2019-02-12 13:05:30 +0000 (Tue, 12 Feb 2019) | 2 lines
[bp/r69040][bp/69041][FIX] H5P: Remove "fancy" translated error message from H5P storage update script (thanks Jyhem and robertokir);
Also remove the test for writable so we expose the raw errors to the installer or console
----------------------------------------------
r69043 | luciash | 2019-02-11 14:47:39 +0000 (Mon, 11 Feb 2019) | 2 lines
[TRA] Czech language: few more translated strings
----------------------------------------------
r69036 | rjsmelo | 2019-02-11 00:44:38 +0000 (Mon, 11 Feb 2019) | 2 lines
[bp/69035][FIX] Add missing changes to tiki.sql regarding H5P introduced in r68754 and r68737
----------------------------------------------
r69023 | lindonb | 2019-02-10 19:37:29 +0000 (Sun, 10 Feb 2019) | 1 line
[bp/r69020][FIX] Facebook feed: use Tikilib/Zend functions so that parsing of feed is not garbled and so that curl can be used as an alternative in environments where sockets aren't available or not allowed
----------------------------------------------
r69022 | lindonb | 2019-02-10 19:36:06 +0000 (Sun, 10 Feb 2019) | 1 line
[bp/r69019][FIX] http client: connections were failing in environments where sockets aren't available or allowed, so add curl as an alternative
----------------------------------------------
r69017 | robertokir | 2019-02-10 11:34:03 +0000 (Sun, 10 Feb 2019) | 1 line
[bp/r68995][FIX] h5p: Add missing Id keyword and correct a typo
----------------------------------------------
r69005 | jonnybradley | 2019-02-08 17:25:27 +0000 (Fri, 08 Feb 2019) | 1 line
[bp/r69004][REL] Restore logging actual commits in changelog.txt, lost in r61384 during Tiki 16.x (oops)
----------------------------------------------
r68999 | pom2ter | 2019-02-08 00:51:07 +0000 (Fri, 08 Feb 2019) | 1 line
[bp/r68966][FIX] autotoc now appears on mobile
----------------------------------------------
r68980 | pom2ter | 2019-02-06 23:57:47 +0000 (Wed, 06 Feb 2019) | 1 line
[FIX] fix misalignment of fields in a couple of forms
----------------------------------------------
r68979 | pom2ter | 2019-02-06 22:52:45 +0000 (Wed, 06 Feb 2019) | 1 line
[pbp/r68815][FIX] partial backport of changes not specific to 19x
----------------------------------------------
r68978 | jonnybradley | 2019-02-06 18:56:14 +0000 (Wed, 06 Feb 2019) | 2 lines
[pbp/r67125][FIX] php warnings and notices in various plugins and libs polluting the index rebuild output
* Partial backport only, fixes filter input not respecting groupIds option
----------------------------------------------
r68977 | jonnybradley | 2019-02-06 18:22:49 +0000 (Wed, 06 Feb 2019) | 1 line
[bp/r68976][FIX] user_selector: Disambiguate users with the same real names in user selector lists
----------------------------------------------
r68975 | jonnybradley | 2019-02-06 17:20:46 +0000 (Wed, 06 Feb 2019) | 1 line
[FIX] listexecute: Revert some automatic formatting that phpstorm did when committing this file in r68973 (which caused js errors)
----------------------------------------------
r68973 | jonnybradley | 2019-02-06 15:35:30 +0000 (Wed, 06 Feb 2019) | 6 lines
Combined backport of listexecute improvements, mainly r68720 for using the correct field input for tracker fields but without the add/remove code from previous and subsequent commits. 
[bp/r68727][FIX] trackers: Fix select all checkbox on list (used in listexecute) 
[bp/r68941][bp/r68720][ENH] listexecute: Make the TrackerItemModify action use the correct input per field type instead of a plain text input. Tracker fetch_item_field action needed to be adapted to run without an existing Item - this possibly needs replicating in templates/wiki-plugins/wikiplugin_listexecute.tpl also.
Seems to work ok with most field types but more testing required before backporting (seems ok?) 
[bp/r68942][FIX] listexecute: No need to set the full url of the page for the filter form, especially as it wasn't observing sefurls
----------------------------------------------
r68972 | robertokir | 2019-02-06 11:12:55 +0000 (Wed, 06 Feb 2019) | 1 line
[bp/r68971][FIX] Checks if H5P directory is writable and, if needed, creates some directories under it
----------------------------------------------
r68964 | robertokir | 2019-02-05 17:21:30 +0000 (Tue, 05 Feb 2019) | 1 line
[FIX] H5P updated libraries and code, backported from these commits: 68750, 68753, 68754, 68777, 68810, 68811, 68838, 68869, 68868, 68872
----------------------------------------------
r68961 | robertokir | 2019-02-05 10:10:48 +0000 (Tue, 05 Feb 2019) | 1 line
[UPD] composer.lock updated to enable H5P fixes that will come next; Various zend libraries were downgraded, probably due to using PHP 5.6 for updating composer.lock this time instead of php 7.x
----------------------------------------------
r68960 | jyhem | 2019-02-04 21:33:09 +0000 (Mon, 04 Feb 2019) | 1 line
[FIX][bp/r68809] When filtering preferences, hide only options inside #col1, not from dialog box, thanks Fabio
----------------------------------------------
r68947 | kroky6 | 2019-02-01 09:16:55 +0000 (Fri, 01 Feb 2019) | 1 line
[bp/r68945] [FIX] tracker notification user preferences sql query mixup - when user with chosen language of TW modifies a tracker item, the notifications sent out are not based on recipient language preference but the user making the notification which is wrong; fixed the sql query and/or precedence issue
----------------------------------------------
r68932 | jyhem | 2019-01-30 23:58:13 +0000 (Wed, 30 Jan 2019) | 1 line
[FIX][bp/r68805] Add ticket for checkbox in remarks box when adding module with missing dependancy, thanks Fabio
----------------------------------------------
r68929 | jonnybradley | 2019-01-30 19:36:23 +0000 (Wed, 30 Jan 2019) | 1 line
[FIX] Re-run get_strings.php without custom theme files (oops * 2)
----------------------------------------------
r68926 | jonnybradley | 2019-01-30 18:56:13 +0000 (Wed, 30 Jan 2019) | 1 line
[FIX] ran get_strings.php
----------------------------------------------
r68925 | jonnybradley | 2019-01-30 18:51:34 +0000 (Wed, 30 Jan 2019) | 2 lines
[bp/r68822][FIX] maps: Map tiles were all squished up when in the locator module
Manual backport as we're on LESS in 18.x, not SCSS, regression from r68915
----------------------------------------------
r68924 | jonnybradley | 2019-01-30 18:35:06 +0000 (Wed, 30 Jan 2019) | 1 line
[bp/r68923][FIX] categories: Some usability fixes for category admin - always show the edit form when editing, and it either edit or create as relevant, and allow copying and moving of objects to a category with the same name but different parent
----------------------------------------------
r68922 | jonnybradley | 2019-01-30 18:02:43 +0000 (Wed, 30 Jan 2019) | 2 lines
[bp/r68893][FIX] login: If the user had tried to view a file (like the logo) set to be not visible for anonymous, the loginfrom session variable was getting set to the image url, not the referrer. Also don't overwrite $_SESSION['loginfrom']) in the error handler if it has already been set.
Will need backporting to 18.x when tested
----------------------------------------------
r68918 | pom2ter | 2019-01-30 00:05:32 +0000 (Wed, 30 Jan 2019) | 1 line
[FIX] fixed issue with misalignment of the find form on the blogs page
----------------------------------------------
r68917 | pom2ter | 2019-01-29 23:18:17 +0000 (Tue, 29 Jan 2019) | 1 line
[bp/r68787][FIX] find button in tiki-listpages shouldnt appear if the form has no fields
----------------------------------------------
r68915 | pom2ter | 2019-01-29 22:06:23 +0000 (Tue, 29 Jan 2019) | 1 line
[FIX] fixed banners that have images spilling over the main column
----------------------------------------------
r68881 | jyhem | 2019-01-28 21:02:48 +0000 (Mon, 28 Jan 2019) | 1 line
[FIX] Prevent from returning itemIds from partially deleted items which don't exist in tiki_tracker_items any more
----------------------------------------------
r68842 | jonnybradley | 2019-01-26 17:07:24 +0000 (Sat, 26 Jan 2019) | 1 line
[bp/r68840][FIX] Don't "protect" emails in print or PDF
----------------------------------------------
r68839 | lindonb | 2019-01-26 17:03:54 +0000 (Sat, 26 Jan 2019) | 1 line
[bp/r68715 & r68788][FIX] facebook login: fsockopen doesn't work in some environments so add cURL as an alternative.
----------------------------------------------
r68817 | kroky6 | 2019-01-25 10:17:56 +0000 (Fri, 25 Jan 2019) | 1 line
[FIX] partially backport r67125 to fix parsing UserSelector field content when it has already been parsed - like in EmailAction ListExecute job (thanks Xavi)
----------------------------------------------
r68793 | jonnybradley | 2019-01-24 13:17:17 +0000 (Thu, 24 Jan 2019) | 1 line
[bp/r68792][ENH] search: Add a pref to change which date field gets indexed as the global "date" - created or last modified
----------------------------------------------
r68784 | jonnybradley | 2019-01-23 18:00:11 +0000 (Wed, 23 Jan 2019) | 1 line
[bp/r68783][ENH] search: Add support for scripted sort modes on elasticsearch (only)
----------------------------------------------
r68742 | rjsmelo | 2019-01-21 22:58:04 +0000 (Mon, 21 Jan 2019) | 2 lines
[REF] Update the location of the tiki dbs for CI
----------------------------------------------
r68740 | jonnybradley | 2019-01-21 18:55:54 +0000 (Mon, 21 Jan 2019) | 1 line
[bp/r68737][FIX] h5p: New H5P files seem to not have the `filtered` field so this needs to be able to be NULL, and elFinder seems to detect h5p files as application/octet-stream now
----------------------------------------------
r68710 | jonnybradley | 2019-01-17 18:13:57 +0000 (Thu, 17 Jan 2019) | 1 line
[bp/r68705][FIX] wiki: Reindex the page after modifying the keywords
----------------------------------------------
r68708 | jonnybradley | 2019-01-17 18:03:02 +0000 (Thu, 17 Jan 2019) | 1 line
[bp/r68707][FIX] search: Use the unified_default_content fields (set in prefs) in custom search when searching "content"
----------------------------------------------
r68696 | xavidp | 2019-01-15 15:52:25 +0000 (Tue, 15 Jan 2019) | 1 line
[bp/r68695][FIX]Allow to display the field to select groups in a new tracker item (group of users to assign this item to, for instance) in cases in which that group has granted the permission to get the group's name viewed (and not only to users in groups with granted permission to add members to this group in the dropdown field).
----------------------------------------------
r68673 | amnabilal | 2019-01-10 05:26:18 +0000 (Thu, 10 Jan 2019) | 2 lines
[BP/68671][FIX] Fixed issue, complicated links values were printing blank in PDF if hyperlinks option is set to "Off" or "as footnote" in PDF settings. 
Fixed issue found while adding link value as footnote. 
----------------------------------------------
r68658 | jonnybradley | 2019-01-05 12:49:38 +0000 (Sat, 05 Jan 2019) | 2 lines
[bp/r68656][FIX] wysiwyg: Seems the exec method of CKEditor commands has changed - not sure when but this probably is needed in 18.x now too [fixes it for me].
Should address wish6988 - thanks nickTidmarsh
----------------------------------------------
r68649 | yonixxx | 2018-12-29 14:38:27 +0000 (Sat, 29 Dec 2018) | 1 line
[bp/68648][TRA] Missing translation in fr and he
----------------------------------------------
r68637 | yonixxx | 2018-12-26 09:53:03 +0000 (Wed, 26 Dec 2018) | 1 line
[bp/68636][TRA] French translation
----------------------------------------------
r68631 | jonnybradley | 2018-12-20 20:00:24 +0000 (Thu, 20 Dec 2018) | 1 line
[bp/r68628][FIX] search: Expose all feedback even if the rebuild command completes (for instance when elastic runs out of fields)
----------------------------------------------
r68630 | jonnybradley | 2018-12-20 19:56:35 +0000 (Thu, 20 Dec 2018) | 1 line
[bp/r68627][FIX] webservices: Convert notices into feedback
----------------------------------------------
r68619 | jonnybradley | 2018-12-20 12:02:34 +0000 (Thu, 20 Dec 2018) | 1 line
[bp/r68580][FIX] smarty: Web services need templates in temp/cache
----------------------------------------------
Version 18.3
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
Version 18.2
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
Version 18.1
<http://doc.tiki.org/Tiki18>
------------------

----------------------------------------------
Version 17.1
<http://doc.tiki.org/Tiki17>
------------------

----------------------------------------------
Changelog for Tiki version 17.1, or older, available at:
https://sourceforge.net/p/tikiwiki/code/HEAD/tree/tags/17.1/changelog.txt

